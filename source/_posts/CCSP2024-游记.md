---
title: CCSP2024 游记
tags:
  - 生活
  - CCSP
categories:
  - 游记
mathjax: true
toc: true
date: 2024-10-24 14:38:14
password:
id: 2024-CCSP
---

> “n 方过百万，暴力碾标算”，其此之谓乎？

- 第一次参加 CCSP
- 收获一个个人铜奖
- ~~收获一个团体金奖~~
- ~~第一次参加国家级会议（CNCC）~~

<!--more-->

## 2024-10-22 Day 0

### 早上

早上哼哧哼哧地起床，刷牙洗脸完了之后去桃李吃了个早饭。说来惭愧，这是我这个学期第三次吃早饭。约好了跟同学一起打车，结果忘了“紫荆二十号楼”在哪里，于是行径路线：桃李园 - C 楼南侧 - 北体西侧 - 北体南侧 - 紫荆雕塑园 - 紫荆快递柜东侧 - 紫荆 20 号楼；本来可以桃李园 - 紫荆园 - 紫荆 20 号楼的，我硬是多走了大概 2km？幸亏最后是赶上了。结果司机后备箱装不下，本来准备拒载我们；最后在我们软磨硬泡下，我抱着我的箱子，坐在后排。

打车只打到北大东门，最后我们是坐地铁去的北京南站。到高铁站之后居然还有半个多小时才发车，于是就买了杯星巴克。~~也是让我体会到上流的感觉了。~~星巴克这取单口令还真有意思，都是四字词。~~那就祝我“大步向前”迈向爆零吧！（x~~

![星巴克的取单口令](/gallery/starbucks-token.jpg)

![星巴克咖啡](/gallery/starbucks.jpg)

上高铁之后一直在写计组报告，连续工作 5h，幸亏我下车的时候刚好写完，这 DDL 真的是压得我喘不过气来。~~毕竟我是第一次当 DDL 战士，还有点不熟练。~~

![车上的风景](/gallery/train-view.jpg)

![车上的风景 2](/gallery/train-view2.jpg)

到达金华的时候，已经是下午 14:15 了。

![到达金华](/gallery/arrival.jpg)

### 下午

感觉金华有一种小县城的感觉，再加上天上飘着小雨，朦朦胧胧。路上的机动车，很少；街上也没有什么人。这与北京给我的印象大不一样。

![路上](/gallery/taxi-view.jpg)

![某塔（旅游景点）](/gallery/taxi-tower.jpg)

酒店的环境挺好。~~同样的价钱在北京你能住这么好的酒店？~~

![酒店外观](/gallery/hotel-external.jpg)

![房间内观](/gallery/hotel-internal.jpg)

到酒店之后收拾了一下东西，休息了一下，然后集中在一起说了些明天参赛时的注意事项：

- 比赛手机一定要关机，不要把手机带入考场，也不要**把手机以开机状态带入厕所**。~~这前车之鉴肯定指的不是 IOI2024 中国队作弊的事情，对吧？~~
- 不允许使用蓝牙设备（包括键盘、鼠标、耳机）。

之后去浙江师范大学签了到，但是没有试机。因为**试机不在 Day 0，而是在 Day 1**。~~比赛当天，开赛前 1h 试机是什么操作？~~

![浙江师范大学校门](/gallery/zhejiang-normal-university.jpg)

![CCSP 参赛证](/gallery/ccsp-participant.jpg)

~~与梦中情校合影留念。~~

![清华大学食水最深](/gallery/pku.jpg)

### 晚上

晚上爽吃。

## 2024-10-23 Day 1

### 比赛前

早上 7:00 起床的，然后下楼吃了早饭。之后就打车去浙江师范大学了。

![CCSP 旗帜飘扬](/gallery/ccsp-flag.jpg)

试机的时候，**我发现我打不了中文**。我用 Linux 确实用得少，还以为是自己的问题，也就没在意。

### 比赛中

我的开题顺序：T1(ioqueue) - T4(tracker) - T3(shell) - T2(tree)，没做 T5(numaScheduler)。为什么我要在题目后面还加上题目的英文名称呢？因为**排行榜（和 OJ 相同）上显示的题目顺序，与下发的 PDF 上的，不一样**。

#### T1（ioqueue）

十分钟仔细认真地看完了题面，觉得这题面不知道在说些什么，根本没表述清楚，随即用五分钟口胡了一个贪心；然后看了看榜，发现大家几乎都过了。于是我就写了一发，然后果不其然——也过了。

大概三个小时之后，我注意到赛时答疑区多了一个关于这题的通告：

> “请你设计一个系统，对于到达的任务（包含任务到达时间，以及完成对应任务所需的时间），将其分发到两个队列。” 在本文指的是：任务到达时已经按照此时的状态（当前队列完成时间长短）进行了提交（任务总是在到达时向着较小的那个队列进行发射）。

~~这已经把答案写脸上了，就差公布代码了（~~

赛后小粉兔一直在喷这题，因为**贪心是错误的**。他一直 30 分，原因就是他写的是（本应是）正解的 DP，然后在座位上怀疑人生了几个小时。最后将错就错写了个错误的贪心，然后过了。

#### T4（tracker）

看了看 T2 和 T3，是两个数据结构题，于是先开 T4，**是道大模拟**。从早上 9:20 写到下午 14:20，终于过了样例。于是交了一发：

![第一次提交 tracker](/gallery/2024-CCSP/tracker-first-submit.png)

然后盯着我这 14.8 KB，350 行的代码逐行看了 20 分钟，遂放弃，转头去看数据结构题了。

~~不是哥们，计算机网络原理软件实验的代码量一共也就 400 行啊。~~

#### T3（shell）

我看**排行榜上的第三题**过的人很多，所以先做的这题。

幸亏我提前 git clone 了 OI-wiki。然后发现 OI-wiki 上的带修莫队例题就是这题的操作 1 和操作 2？

> [P1903 [国家集训队] 数颜色 / 维护队列](https://www.luogu.com.cn/problem/P1903)
>
> 题目大意：给你一个序列，$M$ 个操作，有两种操作：
>
> 1. 修改序列上某一位的数字
> 2. 询问区间 $[l, r]$ 中数字的种类数（多个相同的数字只算一个）

![shell 题目描述](/gallery/2024-CCSP/shell-problem.png)

这不是一模一样？我**改了一下输入格式，就把代码交上去了**。然后看着这个部分分，心想着，**60 分应该稳了**：

![shell 的子任务](/gallery/2024-CCSP/shell-subtasks.png)

交了一发，居然有 80？你告诉我**不管操作 3 也能有 80？**那你这测试点 16-20 是在干啥啊？~~操作 3 的数量 < 10%，0 也算是 < 10% 是吧？~~

然后就没管这题了。其实最后 2h 是有想过把这 20 分拿到的。因为对于操作 3，维护一个树状数组，离线先读入所有操作然后把插入操作影响到的后面的所有操作中的数组下标偏移一下就好了，这应该不难写。~~不过最后还是没写。~~

拿到 80 分之后，我才发现，我怎么得的分，是**排行榜上的第二题**而不是第三题？

#### T2（tree）

原来大家都过的题是这道题啊？

> 给定一棵大小为 $N$ 的，带点权的有根树，现在有 $M$ 次操作：
>
> 1. 询问以 $u$ 为根的子树中，点权严格大于 $x$ 的个数；
> 2. 把 $u$ 的点权修改为 $x$；
> 3. 添加一个编号为当前树/森林中节点数 +1 的节点，其父节点为 $u$，点权为 $x$；
> 4. 删除编号为 $u$ 与父亲的连边，并且使得 $u$ 变为新的根，并且输出以 $u$ 为根的最大点权节点权重；
> 5. 询问以 $u$ 为根的子树中，最小点权的最小节点编号；
> 6. 将包含 $u$ 的树旋转为以 $u$ 为根节点，保持树上所有元素的连接性不变。
> 
> 本题要求**在线查询修改**，每一轮的每一个输入（除每一轮第一个输入的操作编号和截止第一轮输入之前的）都需要异或上一轮的输出才能获得真正的输入。
> 
> 对所有的 $w_i$ 满足 $w_i \le 10^9, N \le 2 \cdot 10^5, M \le 2 \cdot 10^5$，**保证树是随机生成的**。  

乍一看是一个 LCT 加上某些奇特的树形数据结构的一看我就不会的题。因为即使树是随机的，如果操作不是随机的，那本质上出题人还是可以造一些极端数据来卡人的（比如扫把、链之类的）。我还专门在赛时答疑区，问了这题的**操作**是否随机。~~第一次问题，可能负责赛时答疑的人都没看懂，答非所问的。~~

![tree 操作是否随机](/gallery/2024-CCSP/tree-issue.png)

答案是不随机。那这题该怎么做呢？

- 如果暴力求子树 rank，那每次询问根节点就会 T。
- 如果链反转每次都处理，那如果添加操作不随机，即使原树是随机的，但如果添加的点形成了一条链，那也会 T。

算了，还是写一发暴力吧，万一呢。于是，我就用一个**最坏 $O(nm)$ 的做法**，过了这道 $1 \le n, m \le 2\cdot10^5$ 的题。

~~难怪大家都过了这题，原来是这样啊。~~

#### T5（numaScheduler）

是个大模拟，按照题目说的去做就行，但是其中需要支持的有一个操作是无源无汇求最小割。队里有同学说，**暴力枚举也能得 90 分**。

#### 乱搞

最后闲得无聊，在电脑里新建了一个文件并且往里面随机写入了 100 MB 的文本。然后我使用了**倍增**的办法，Ctrl+C、Ctrl+V，一个文件变两个，两个变四个……不知道我按了多少次 Ctrl+V，电脑就卡了。

~~空余磁盘空间大概是 70 GB 左右，应该是被我全部写满了的缘故（~~

### 比赛后

电脑卡了之后我举手询问监考老师能否重启电脑，得到的回复是**禁止重启电脑**，于是我就提前半个小时交卷了。

然后在机房这层楼看见了 Yau 相关的 poster。

![无处不在的 Yau]()

考试结束后，大家一起吃了烧烤作为宵夜，吐槽了这次的 CCSP：

> “你们 T1 的贪心！都是假的！考虑 `0 1 30` 这组数据。”

> “2024年CCF大学生计算机系统与程序设计竞赛”，确实**没说是算法竞赛**，所以暴力过了也很正常，对吧？

> “为什么我前 6 个小时只有 30 + 60 + 0 + 0 + 0？**花了 6 个小时，终于让自己的智商降低了。**”

> “已经开始期待明天的**赛题分析**环节了。”

> “我 treap 套 ETT，但是 T 了。”

> “tree 那题，我写了个替罪羊树套 ETT，结果 T 了；你告诉我**暴力过了**？”

> “tracker 那题，我**从早上十一点写到晚上八点半**。”

> “树随机。”

> “但操作不随机。”

> “我把 OI-wiki 上所有可能的平衡树板子都试了一遍，但是全 T 了；最后半个小时，我破罐子破摔交了发暴力，结果过了？”

> “我 tree 那题**交了 100 遍**，把所有次数都用完了。”

> “tree 的每个测试点，我都对过一次。”

Fuyuki 说，他 U 盘里带了很多歌，但是在 Linux 上**没找到音乐播放器**。后来，有一个同学告诉他：Firefox 浏览器可以播放音频（

~~新知识 get~~

### 其他

不是哥们，原来大家的 Linux 都打不了中文啊（因为提供的环境没有拼音输入法），看来不是我自己不会用 Linux 的问题。~~大家发赛时答疑都用的英文，笑死我了；回答的技术团队倒是用的中文（~~

考了 12h，所以中饭、晚饭都包了，但我也没吃多少，感觉也不好吃。中途上了 10~15 次厕所。

题没想法，上厕所；题没调出来，上厕所；题过了，还是上厕所。

但是上厕所总计用时肯定不超过一个小时；也就是说，我在那个垃圾的没靠背的四脚板凳上**坐了至少 11 个小时**。教室内甚至开了暖气，热死我了，坐得我屁股疼。

**总而言之，参赛体验极差。**

## 2024-10-24 Day 2

### 上午

#### 前往横店

早上 6:30 起床洗了个澡，7:00 去吃自助早饭。今天专门找了个靠窗的位置。~~真上流啊。~~

#### 参加 CNCC

然后跟着 Fuyuki 和小粉兔一起开着园区内的车子到处转悠。转了大概半个小时，

>  update: 180 块钱自动退回来了。



### 下午

#### 颁奖环节

个人喜提 Cu。清华今年是团体总分第一就是了（

#### 赛题分析



### 晚上

晚上吃了好吃的。还点了杯蜜雪冰城。

爽。

然后就在饭桌上开盒出题人。

上交的，提高组省二一次，省三一次，自称自己”来自上海东川路职业学校的CS学生，不搞 ACM，不是Oler“。这种人怎么敢的？

## 2024-10-25 Day 3

### 早上

早上 8:00 的闹钟，但是醒了之后把它延到了 9:00；然后洗漱后 9:30 下楼吃早饭。没睡到 10:00 的原因是，我没搞清楚自助早餐什么时候截止；我感觉 9:30 应该还会有，但 10:00 听起来不太像是一般人吃早饭的时间，所以就起来了。

然后一直写游记到 12:30。

最后，中午和 Fuyuki 去吃了 65 块钱一位的烧烤+火锅自助，全是合成肉。

### 下午



### 晚上





## 总结

很久没有打 OI 了，也很久没有参加 ACM 了，但我坚信，我所向往的 OI/ACM 肯定不是这个样子。



## 附录：CCSP2024 题目

### T1

现在，你的计算机系统里面有 1 个存储设备，该存储设备能够通过两个独立的通道对文件进行读写。通道对于应用发起的任务会采用队列的方式来处理，**先提交到队列的任务先处理**。如果一个任务被提交到对应的通道上时，前面的任务还没完成，该任务需要等待前面任务完成后才能被处理。

请你设计一个系统，对于到达的任务（包含任务到达时间，以及完成对应任务所需的时间），将其分发到两个队列。如果中间存在空白（如第一通道中间没任务提交，但是后续有任务提交上来），中间空白的时间算在时延内。即，通道的时延按照通道上最后一个完成的任务的时间计算。

注意，任务到达时间不等于提交到队列的时间。一个后到达的任务如果先提交到队列，则先进行处理。

请设计系统，使得**最终完成所有任务的时延最小**，即两个通道完成所有任务时延最大的值最小。在最大的通道时延最小的情况下，保证另一个通道的时延最小。例如，如果存在一组队列的分发，通道 1 的时延为 50 的情况下，通道 2 的时延可以为 20 或 30，则通道 2 应使用 20 的时延的任务提交方式。

